/// 作者信息模型
model WorkAuthor {
  /// 主键ID
  id             Int       @id @default(autoincrement())
  /// 作者姓名
  name           String    @unique @db.VarChar(100)
  /// 作者头像URL
  avatar         String?   @db.VarChar(500)
  /// 作者描述
  description    String?   @db.VarChar(1000)
  /// 启用状态（true: 启用, false: 禁用）
  isEnabled      Boolean   @default(true) @map("is_enabled")
  /// 作者身份角色（位运算：1=作家, 2=插画家, 4=漫画家, 8=模特）
  roles          Int?      @default(0) @db.SmallInt
  /// 国籍
  nationality    String?   @db.VarChar(50)
  /// 性别（0: 未知, 1: 男性, 2: 女性, 3: 其他）
  gender         Int       @default(0) @db.SmallInt
  /// 作品数量（冗余字段，用于提升查询性能）
  worksCount     Int       @default(0) @map("works_count")
  /// 粉丝数量（冗余字段，用于前台展示）
  followersCount Int       @default(0) @map("followers_count")
  /// 是否为推荐作者（用于前台推荐展示）
  featured       Boolean   @default(false)
  /// 社交媒体链接（JSON格式存储多个平台链接）
  socialLinks    String?   @map("social_links") @db.VarChar(1000)
  /// 管理员备注
  remark         String?   @db.VarChar(1000)
  /// 创建时间
  createdAt      DateTime  @default(now()) @map("created_at") @db.Timestamptz
  /// 更新时间
  updatedAt      DateTime  @updatedAt @map("updated_at") @db.Timestamptz
  /// 软删除时间（用于数据恢复或归档）
  deletedAt      DateTime? @map("deleted_at") @db.Timestamptz

  // 关联关系
  WorkComic WorkComic[]

  /// 索引优化
  @@index([isEnabled]) // 按状态查询可用作者
  @@index([roles]) // 按身份角色查询
  @@index([nationality]) // 按国籍查询
  @@index([gender]) // 按性别查询
  @@index([name]) // 按名称搜索（支持模糊查询）
  @@index([createdAt]) // 按创建时间排序
  @@index([deletedAt]) // 按软删除时间筛选
  @@map("work_author")
}
