model WorkComic {
  /// 主键id
  id               Int                @id @default(autoincrement())
  /// 漫画名称
  name             String             @db.VarChar(50)
  /// 漫画别名
  alias            String             @db.VarChar(50)
  /// 封面
  cover            String             @db.VarChar(255)
  /// 热度
  popularity       Int                @default(0) @db.Integer
  /// 虚拟热度
  popularityWeight Int                @default(0) @map("popularity_weight") @db.Integer
  /// 语言
  language         String             @db.VarChar(20)
  /// 地区
  region           String             @db.VarChar(20)
  /// 作者关系 - 多对多关系通过中间表
  comicAuthors     WorkComicAuthor[]
  /// 内容年龄分级
  ageRating        String?            @map("age_rating") @db.VarChar(50)
  /// 是否发布 1：发布 0：不发布
  isPublished      Boolean            @default(false) @map("is_published") @db.Boolean
  /// 发布日期
  publishAt        DateTime?          @map("publish_at") @db.Timestamptz
  /// 最后更新时间
  lastUpdated      DateTime?          @map("last_updated") @db.Timestamptz
  /// 描述
  description      String             @db.VarChar(1000)
  /// 出版社
  publisher        String?            @db.VarChar(30)
  /// 是否已经完结
  isFinished       Boolean            @default(false) @map("is_finished")
  /// 是否允许下载
  canDownload      Boolean            @default(true) @map("can_download")
  /// 是否允许评论
  canComment       Boolean            @default(true) @map("can_comment")
  /// 查看规则 0 所有人  1登录 2会员 3购买
  readRule         Int                @default(0) @map("read_rule") @db.SmallInt
  /// 购买需要消耗的金额
  purchaseAmount   Int                @default(0) @map("purchase_amount")
  /// 备注
  remark           String?            @db.VarChar(1000)
  /// 软删除时间（用于数据恢复或归档）
  deletedAt        DateTime?          @map("deleted_at") @db.Timestamptz
  /// 创建时间
  createdAt        DateTime           @default(now()) @map("created_at") @db.Timestamptz
  /// 更新时间
  updatedAt        DateTime           @updatedAt @map("updated_at") @db.Timestamptz
  /// 关联的章节
  relatedChapters  WorkComicChapter[]
  /// 分类关系 - 多对多关系通过中间表
  comicCategories  WorkComicCategory[]

  /// 索引优化
  @@index([isPublished, publishAt]) // 查询已发布的漫画
  @@index([popularity, popularityWeight]) // 按人气排序
  @@index([language, region]) // 按语言和地区查询
  @@index([isFinished]) // 查询完结状态
  @@index([readRule]) // 按查看权限查询
  @@index([lastUpdated]) // 按最后更新时间排序
  @@index([name]) // 按名称搜索
  @@index([ageRating]) // 按年龄分级查询
  @@map("work_comic")
}
