/// 系统操作日志表
model SystemRequestLog {
  /// 主键id
  id                   Int      @id @default(autoincrement())
  /// 用户名
  username             String?  @db.VarChar(20)
  /// 用户主键Id
  userId               Int?     @map("user_id") @db.Integer
  /// 调用ip
  ipAddress            String   @map("ip_address") @db.VarChar(20)
  /// ip映射地址
  ipLocation           String   @map("ip_location") @db.VarChar(300)
  /// 响应状态码
  responseCode         Int      @map("response_code") @db.SmallInt
  /// 响应描述
  responseMessage      String   @map("response_message") @db.VarChar(300)
  /// 请求类型
  httpMethod           String   @map("http_method") @db.VarChar(10)
  /// 请求地址
  requestPath          String   @map("request_path") @db.VarChar(100)
  /// 请求地址描述信息
  operationDescription String   @map("operation_description") @db.VarChar(255)
  /// 请求耗时
  duration             Int      @map("duration") @db.SmallInt
  /// 浏览器信息标识
  userAgent            String   @map("user_agent") @db.VarChar(1000)
  /// 请求参数
  requestParams        String?  @map("request_params") @db.Text
  /// 创建时间
  createdAt            DateTime @default(now()) @map("created_at") @db.Timestamp(0)
  /// 更新时间
  updatedAt            DateTime @updatedAt @map("updated_at") @db.Timestamp(0)

  /// 索引优化
  @@index([createdAt]) // 按时间查询日志（最常用）
  @@index([userId, createdAt]) // 按用户查询日志
  @@index([responseCode]) // 按响应状态码查询
  @@index([httpMethod, requestPath]) // 按请求方法和路径查询
  @@index([ipAddress]) // 按IP地址查询
  @@index([duration]) // 按响应时间查询慢请求
  @@map("system_request_log")
}
